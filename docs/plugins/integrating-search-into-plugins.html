<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Integrating Search into a plugin · Backstage Software Catalog and Developer Platform</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="How to integrate Search into a Backstage plugin"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Integrating Search into a plugin · Backstage Software Catalog and Developer Platform"/><meta property="og:type" content="website"/><meta property="og:url" content="https://backstage.io/"/><meta property="og:description" content="How to integrate Search into a Backstage plugin"/><meta property="og:image" content="https://backstage.io/img/sharing-opengraph.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://backstage.io/img/twitter-summary.png"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/monokai.min.css"/><link rel="alternate" type="application/atom+xml" href="https://backstage.io/blog/atom.xml" title="Backstage Software Catalog and Developer Platform Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://backstage.io/blog/feed.xml" title="Backstage Software Catalog and Developer Platform Blog RSS Feed"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-KSEVGGNCJW"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments); }
              gtag('js', new Date());
              gtag('config', 'G-KSEVGGNCJW');
            </script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono:500,700&amp;display=swap"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://unpkg.com/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script><script type="text/javascript" src="/js/medium-zoom.js"></script><script type="text/javascript" src="/js/dismissable-banner.js"></script><script type="text/javascript" src="/js/scroll-nav-to-view-in-docs.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><h2 class="headerTitle">Backstage Software Catalog and Developer Platform</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://github.com/backstage/backstage" target="_self">GitHub</a></li><li class="siteNavGroupActive"><a href="/docs/overview/what-is-backstage" target="_self">Docs</a></li><li class=""><a href="/plugins" target="_self">Plugins</a></li><li class=""><a href="/blog" target="_self">Blog</a></li><li class=""><a href="/docs/releases/v1.9.0" target="_self">Releases</a></li><li class=""><a href="/demos" target="_self">Demos</a></li><li class=""><a href="/community" target="_self">Community</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Plugins</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Overview<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/overview/what-is-backstage">What is Backstage?</a></li><li class="navListItem"><a class="navItem" href="/docs/overview/architecture-overview">Architecture overview</a></li><li class="navListItem"><a class="navItem" href="/docs/overview/roadmap">Roadmap</a></li><li class="navListItem"><a class="navItem" href="/docs/overview/vision">Vision</a></li><li class="navListItem"><a class="navItem" href="/docs/overview/background">The Spotify Story</a></li><li class="navListItem"><a class="navItem" href="/docs/overview/adopting">Strategies for adopting</a></li><li class="navListItem"><a class="navItem" href="/docs/overview/versioning-policy">Release &amp; Versioning Policy</a></li><li class="navListItem"><a class="navItem" href="/docs/overview/threat-model">Backstage Threat Model</a></li><li class="navListItem"><a class="navItem" href="/docs/overview/support">Support and community</a></li><li class="navListItem"><a class="navItem" href="/docs/overview/glossary">Backstage Glossary</a></li><li class="navListItem"><a class="navItem" href="/docs/overview/logos">Logo assets</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Getting Started<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/getting-started/">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/docs/getting-started/configuration">Getting Started, configuring Backstage</a></li><li class="navListItem"><a class="navItem" href="/docs/getting-started/create-an-app">Create an App</a></li><li class="navListItem"><a class="navItem" href="/docs/getting-started/running-backstage-locally">Running Backstage Locally</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">App configuration</h4><ul><li class="navListItem"><a class="navItem" href="/docs/getting-started/configure-app-with-plugins">Configuring App with plugins</a></li><li class="navListItem"><a class="navItem" href="/docs/getting-started/app-custom-theme">Customize the look-and-feel of your App</a></li><li class="navListItem"><a class="navItem" href="/docs/getting-started/homepage">Backstage homepage - Setup and Customization</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/getting-started/keeping-backstage-updated">Keeping Backstage Updated</a></li><li class="navListItem"><a class="navItem" href="/docs/getting-started/concepts">Key Concepts</a></li><li class="navListItem"><a class="navItem" href="/docs/getting-started/contributors">Contributors</a></li><li class="navListItem"><a class="navItem" href="/docs/getting-started/project-structure">Backstage Project Structure</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Local Development<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">CLI</h4><ul><li class="navListItem"><a class="navItem" href="/docs/local-dev/cli-overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/local-dev/cli-build-system">Build System</a></li><li class="navListItem"><a class="navItem" href="/docs/local-dev/cli-commands">Commands</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/local-dev/linking-local-packages">Linking in Local Packages</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Core Features<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Software Catalog</h4><ul><li class="navListItem"><a class="navItem" href="/docs/features/software-catalog/software-catalog-overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/features/software-catalog/life-of-an-entity">The Life of an Entity</a></li><li class="navListItem"><a class="navItem" href="/docs/features/software-catalog/configuration">Catalog Configuration</a></li><li class="navListItem"><a class="navItem" href="/docs/features/software-catalog/system-model">System Model</a></li><li class="navListItem"><a class="navItem" href="/docs/features/software-catalog/descriptor-format">YAML File Format</a></li><li class="navListItem"><a class="navItem" href="/docs/features/software-catalog/references">Entity References</a></li><li class="navListItem"><a class="navItem" href="/docs/features/software-catalog/well-known-annotations">Well-known Annotations</a></li><li class="navListItem"><a class="navItem" href="/docs/features/software-catalog/well-known-relations">Well-known Relations</a></li><li class="navListItem"><a class="navItem" href="/docs/features/software-catalog/well-known-statuses">Well-known Statuses</a></li><li class="navListItem"><a class="navItem" href="/docs/features/software-catalog/extending-the-model">Extending the model</a></li><li class="navListItem"><a class="navItem" href="/docs/features/software-catalog/external-integrations">External integrations</a></li><li class="navListItem"><a class="navItem" href="/docs/features/software-catalog/catalog-customization">Catalog Customization</a></li><li class="navListItem"><a class="navItem" href="/docs/features/software-catalog/software-catalog-api">API</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Kubernetes</h4><ul><li class="navListItem"><a class="navItem" href="/docs/features/kubernetes/overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/features/kubernetes/installation">Installation</a></li><li class="navListItem"><a class="navItem" href="/docs/features/kubernetes/configuration">Configuration</a></li><li class="navListItem"><a class="navItem" href="/docs/features/kubernetes/authentication">Kubernetes Authentication</a></li><li class="navListItem"><a class="navItem" href="/docs/features/kubernetes/troubleshooting">Troubleshooting</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Software Templates</h4><ul><li class="navListItem"><a class="navItem" href="/docs/features/software-templates/software-templates-index">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/features/software-templates/configuration">Configuration</a></li><li class="navListItem"><a class="navItem" href="/docs/features/software-templates/adding-templates">Adding your own Templates</a></li><li class="navListItem"><a class="navItem" href="/docs/features/software-templates/writing-templates">Writing Templates</a></li><li class="navListItem"><a class="navItem" href="/docs/features/software-templates/input-examples">Input Examples</a></li><li class="navListItem"><a class="navItem" href="/docs/features/software-templates/builtin-actions">Builtin actions</a></li><li class="navListItem"><a class="navItem" href="/docs/features/software-templates/writing-custom-actions">Writing Custom Actions</a></li><li class="navListItem"><a class="navItem" href="/docs/features/software-templates/writing-custom-field-extensions">Writing Custom Field Extensions</a></li><li class="navListItem"><a class="navItem" href="/docs/features/software-templates/writing-custom-step-layouts">Writing custom step layouts</a></li><li class="navListItem"><a class="navItem" href="/docs/features/software-templates/migrating-from-v1beta2-to-v1beta3">Migrating to v1beta3 templates</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Backstage Search</h4><ul><li class="navListItem"><a class="navItem" href="/docs/features/search/search-overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/features/search/getting-started">Getting Started with Search</a></li><li class="navListItem"><a class="navItem" href="/docs/features/search/concepts">Search Concepts</a></li><li class="navListItem"><a class="navItem" href="/docs/features/search/architecture">Search Architecture</a></li><li class="navListItem"><a class="navItem" href="/docs/features/search/search-engines">Search Engines</a></li><li class="navListItem"><a class="navItem" href="/docs/features/search/how-to-guides">How-To guides</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">TechDocs</h4><ul><li class="navListItem"><a class="navItem" href="/docs/features/techdocs/techdocs-overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/features/techdocs/getting-started">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/docs/features/techdocs/concepts">Concepts</a></li><li class="navListItem"><a class="navItem" href="/docs/features/techdocs/addons">TechDocs Addons</a></li><li class="navListItem"><a class="navItem" href="/docs/features/techdocs/architecture">TechDocs Architecture</a></li><li class="navListItem"><a class="navItem" href="/docs/features/techdocs/creating-and-publishing">Creating and Publishing Documentation</a></li><li class="navListItem"><a class="navItem" href="/docs/features/techdocs/configuration">TechDocs Configuration Options</a></li><li class="navListItem"><a class="navItem" href="/docs/features/techdocs/using-cloud-storage">Using Cloud Storage for TechDocs generated files</a></li><li class="navListItem"><a class="navItem" href="/docs/features/techdocs/configuring-ci-cd">Configuring CI/CD to generate and publish TechDocs sites</a></li><li class="navListItem"><a class="navItem" href="/docs/features/techdocs/cli">TechDocs CLI</a></li><li class="navListItem"><a class="navItem" href="/docs/features/techdocs/how-to-guides">How-To guides</a></li><li class="navListItem"><a class="navItem" href="/docs/features/techdocs/troubleshooting">Troubleshooting</a></li><li class="navListItem"><a class="navItem" href="/docs/features/techdocs/faqs">FAQ</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Integrations<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/integrations/">Overview</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">AWS S3</h4><ul><li class="navListItem"><a class="navItem" href="/docs/integrations/aws-s3/locations">Locations</a></li><li class="navListItem"><a class="navItem" href="/docs/integrations/aws-s3/discovery">Discovery</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Azure</h4><ul><li class="navListItem"><a class="navItem" href="/docs/integrations/azure/locations">Locations</a></li><li class="navListItem"><a class="navItem" href="/docs/integrations/azure/discovery">Discovery</a></li><li class="navListItem"><a class="navItem" href="/docs/integrations/azure/org">Org Data</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Bitbucket Cloud</h4><ul><li class="navListItem"><a class="navItem" href="/docs/integrations/bitbucketCloud/locations">Locations</a></li><li class="navListItem"><a class="navItem" href="/docs/integrations/bitbucketCloud/discovery">Discovery</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Bitbucket Server</h4><ul><li class="navListItem"><a class="navItem" href="/docs/integrations/bitbucketServer/locations">Locations</a></li><li class="navListItem"><a class="navItem" href="/docs/integrations/bitbucketServer/discovery">Discovery</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Datadog</h4><ul><li class="navListItem"><a class="navItem" href="/docs/integrations/datadog-rum/installation">Installation</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Gerrit</h4><ul><li class="navListItem"><a class="navItem" href="/docs/integrations/gerrit/locations">Locations</a></li><li class="navListItem"><a class="navItem" href="/docs/integrations/gerrit/discovery">Discovery</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">GitHub</h4><ul><li class="navListItem"><a class="navItem" href="/docs/integrations/github/locations">Locations</a></li><li class="navListItem"><a class="navItem" href="/docs/integrations/github/discovery">Discovery</a></li><li class="navListItem"><a class="navItem" href="/docs/integrations/github/org">Org Data</a></li><li class="navListItem"><a class="navItem" href="/docs/integrations/github/github-apps">GitHub Apps</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">GitLab</h4><ul><li class="navListItem"><a class="navItem" href="/docs/integrations/gitlab/locations">Locations</a></li><li class="navListItem"><a class="navItem" href="/docs/integrations/gitlab/discovery">Discovery</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Gitea</h4><ul><li class="navListItem"><a class="navItem" href="/docs/integrations/gitea/locations">Locations</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Google GCS</h4><ul><li class="navListItem"><a class="navItem" href="/docs/integrations/google-cloud-storage/locations">Locations</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">LDAP</h4><ul><li class="navListItem"><a class="navItem" href="/docs/integrations/ldap/org">Org Data</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Plugins<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/plugins/">Intro to plugins</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/existing-plugins">Existing plugins</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/create-a-plugin">Create a Backstage Plugin</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/plugin-development">Plugin Development</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/structure-of-a-plugin">Structure of a Plugin</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/integrating-plugin-into-software-catalog">Integrate into the Software Catalog</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/plugins/integrating-search-into-plugins">Integrating Search into a plugin</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/composability">Composability System</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/customization">Customization (Experimental)</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/analytics">Plugin Analytics</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/feature-flags">Feature Flags</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Backends and APIs</h4><ul><li class="navListItem"><a class="navItem" href="/docs/plugins/proxying">Proxying</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/backend-plugin">Backend plugins</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/call-existing-api">Call Existing API</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/url-reader">URL Reader</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/new-backend-system">New Backend System</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Testing</h4><ul><li class="navListItem"><a class="navItem" href="/docs/plugins/testing">Testing with Jest</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Publishing</h4><ul><li class="navListItem"><a class="navItem" href="/docs/plugins/publish-private">Publish private</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/add-to-marketplace">Add to Marketplace</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/observability">Observability</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Configuration<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/conf/">Static Configuration in Backstage</a></li><li class="navListItem"><a class="navItem" href="/docs/conf/reading">Reading Backstage Configuration</a></li><li class="navListItem"><a class="navItem" href="/docs/conf/writing">Writing Backstage Configuration Files</a></li><li class="navListItem"><a class="navItem" href="/docs/conf/defining">Defining Configuration for your Plugin</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Auth and identity<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/auth/">Authentication in Backstage</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Included providers</h4><ul><li class="navListItem"><a class="navItem" href="/docs/auth/auth0/provider">Auth0</a></li><li class="navListItem"><a class="navItem" href="/docs/auth/atlassian/provider">Atlassian</a></li><li class="navListItem"><a class="navItem" href="/docs/auth/bitbucket/provider">Bitbucket</a></li><li class="navListItem"><a class="navItem" href="/docs/auth/microsoft/provider">Azure</a></li><li class="navListItem"><a class="navItem" href="/docs/auth/github/provider">GitHub</a></li><li class="navListItem"><a class="navItem" href="/docs/auth/gitlab/provider">GitLab</a></li><li class="navListItem"><a class="navItem" href="/docs/auth/google/provider">Google</a></li><li class="navListItem"><a class="navItem" href="/docs/auth/google/gcp-iap-auth">Google IAP</a></li><li class="navListItem"><a class="navItem" href="/docs/auth/okta/provider">Okta</a></li><li class="navListItem"><a class="navItem" href="/docs/auth/onelogin/provider">OneLogin</a></li><li class="navListItem"><a class="navItem" href="/docs/auth/oauth2-proxy/provider">OAuth 2 Custom Proxy</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/auth/identity-resolver">Sign-in Identities and Resolvers</a></li><li class="navListItem"><a class="navItem" href="/docs/auth/oauth">OAuth and OpenID Connect</a></li><li class="navListItem"><a class="navItem" href="/docs/auth/oidc">OIDC provider from scratch</a></li><li class="navListItem"><a class="navItem" href="/docs/auth/add-auth-provider">Contributing New Providers</a></li><li class="navListItem"><a class="navItem" href="/docs/auth/service-to-service-auth">Service to Service Auth</a></li><li class="navListItem"><a class="navItem" href="/docs/auth/troubleshooting">Troubleshooting Auth</a></li><li class="navListItem"><a class="navItem" href="/docs/auth/glossary">Glossary</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Permissions<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/permissions/overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/permissions/concepts">Concepts</a></li><li class="navListItem"><a class="navItem" href="/docs/permissions/getting-started">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/docs/permissions/writing-a-policy">Writing a permission policy</a></li><li class="navListItem"><a class="navItem" href="/docs/permissions/frontend-integration">Frontend Integration</a></li><li class="navListItem"><a class="navItem" href="/docs/permissions/custom-rules">Defining custom permission rules</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Tutorial: using Permissions in your plugin</h4><ul><li class="navListItem"><a class="navItem" href="/docs/permissions/plugin-authors/01-setup">1. Tutorial setup</a></li><li class="navListItem"><a class="navItem" href="/docs/permissions/plugin-authors/02-adding-a-basic-permission-check">2. Adding a basic permission check</a></li><li class="navListItem"><a class="navItem" href="/docs/permissions/plugin-authors/03-adding-a-resource-permission-check">3. Adding a resource permission check</a></li><li class="navListItem"><a class="navItem" href="/docs/permissions/plugin-authors/04-authorizing-access-to-paginated-data">4. Authorizing access to paginated data</a></li><li class="navListItem"><a class="navItem" href="/docs/permissions/plugin-authors/05-frontend-authorization">5. Frontend Components with Authorization</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Deployment<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/deployment/">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/deployment/scaling">Scaling</a></li><li class="navListItem"><a class="navItem" href="/docs/deployment/docker">Docker</a></li><li class="navListItem"><a class="navItem" href="/docs/deployment/k8s">Kubernetes</a></li><li class="navListItem"><a class="navItem" href="/docs/deployment/heroku">Heroku</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Designing for Backstage<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/dls/design">Design</a></li><li class="navListItem"><a class="navItem" href="/docs/dls/component-design-guidelines">Component Design Guidelines</a></li><li class="navListItem"><a class="navItem" href="/docs/dls/contributing-to-storybook">Contributing to Storybook</a></li><li class="navListItem"><a class="navItem" href="/docs/dls/figma">Figma</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">API Reference<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Guides</h4><ul><li class="navListItem"><a class="navItem" href="/docs/api/utility-apis">Utility APIs</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">API Reference</h4><ul><li class="navListItem"><a class="navItem" href="/docs/reference/">Package Index</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/api/deprecations">Deprecations</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Tutorials<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/tutorials/journey">Future developer journey</a></li><li class="navListItem"><a class="navItem" href="/docs/tutorials/quickstart-app-plugin">Adding Custom Plugin to Existing Monorepo App</a></li><li class="navListItem"><a class="navItem" href="/docs/tutorials/react-router-stable-migration">React Router 6.0 Migration</a></li><li class="navListItem"><a class="navItem" href="/docs/tutorials/package-role-migration">Package Role Migration</a></li><li class="navListItem"><a class="navItem" href="/docs/tutorials/migrating-away-from-core">Migrating away from @backstage/core</a></li><li class="navListItem"><a class="navItem" href="/docs/tutorials/configuring-plugin-databases">Configuring Plugin Databases</a></li><li class="navListItem"><a class="navItem" href="/docs/tutorials/switching-sqlite-postgres">Switching Backstage from SQLite to PostgreSQL</a></li><li class="navListItem"><a class="navItem" href="/docs/tutorials/using-backstage-proxy-within-plugin">Using the Backstage Proxy from Within a Plugin</a></li><li class="navListItem"><a class="navItem" href="/docs/tutorials/yarn-migration">Migration to Yarn 3</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Architecture Decision Records (ADRs)<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/architecture-decisions/adrs-overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/architecture-decisions/adrs-adr001">&#x27;ADR001: Architecture Decision Record (ADR) log&#x27;</a></li><li class="navListItem"><a class="navItem" href="/docs/architecture-decisions/adrs-adr002">&#x27;ADR002: Default Software Catalog File Format&#x27;</a></li><li class="navListItem"><a class="navItem" href="/docs/architecture-decisions/adrs-adr003">&#x27;ADR003: Avoid Default Exports and Prefer Named Exports&#x27;</a></li><li class="navListItem"><a class="navItem" href="/docs/architecture-decisions/adrs-adr004">&#x27;ADR004: Module Export Structure&#x27;</a></li><li class="navListItem"><a class="navItem" href="/docs/architecture-decisions/adrs-adr005">&#x27;ADR005: Catalog Core Entities&#x27;</a></li><li class="navListItem"><a class="navItem" href="/docs/architecture-decisions/adrs-adr006">&#x27;ADR006: Avoid React.FC and React.SFC&#x27;</a></li><li class="navListItem"><a class="navItem" href="/docs/architecture-decisions/adrs-adr007">&#x27;ADR007: Use MSW to mock http requests&#x27;</a></li><li class="navListItem"><a class="navItem" href="/docs/architecture-decisions/adrs-adr008">&#x27;ADR008: Default Catalog File Name&#x27;</a></li><li class="navListItem"><a class="navItem" href="/docs/architecture-decisions/adrs-adr009">&#x27;ADR009: Entity References&#x27;</a></li><li class="navListItem"><a class="navItem" href="/docs/architecture-decisions/adrs-adr010">&#x27;ADR010: Use the Luxon Date Library&#x27;</a></li><li class="navListItem"><a class="navItem" href="/docs/architecture-decisions/adrs-adr011">&#x27;ADR011: Plugin Package Structure&#x27;</a></li><li class="navListItem"><a class="navItem" href="/docs/architecture-decisions/adrs-adr012">&#x27;ADR012: Use Luxon.toLocaleString and date/time presets&#x27;</a></li><li class="navListItem"><a class="navItem" href="/docs/architecture-decisions/adrs-adr013">&#x27;ADR013: Proper use of HTTP fetching libraries&#x27;</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">FAQ<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/FAQ">FAQ</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/backstage/backstage/edit/master/docs/plugins/integrating-search-into-plugins.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Integrating Search into a plugin</h1></header><article><div><span><p>The Backstage Search Platform was designed to give plugin developers the APIs
and interfaces needed to offer search experiences within their plugins, while
abstracting away (and instead empowering application integrators to choose) the
specific underlying search technologies.</p>
<p>On this page, you'll find concepts and tutorials for leveraging the Backstage
Search Platform in your plugin.</p>
<h2><a class="anchor" aria-hidden="true" id="providing-data-to-the-search-platform"></a><a href="#providing-data-to-the-search-platform" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Providing data to the search platform</h2>
<h3><a class="anchor" aria-hidden="true" id="create-a-collator"></a><a href="#create-a-collator" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create a collator</h3>
<blockquote>
<p>Knowing what a <a href="/docs/features/search/concepts#collators">collator</a> is will help you as you build it out.</p>
</blockquote>
<p>Imagine you have a plugin that is responsible for storing FAQ snippets in a database. You want other engineers to be able to easily find your questions and answers. So that means you want them to be indexed by the search platform. Lets say the FAQ snippets can be viewed at a URL like <code>backstage.example.biz/faq-snippets</code>.</p>
<p>The search platform provides an interface (<code>DocumentCollatorFactory</code> from package <code>@backstage/plugin-search-common</code>) that allows you to do exactly that. It works by registering each of your entries as a &quot;document&quot; that later represents one search result each.</p>
<blockquote>
<p>You can always look at a working example, e.g. <a href="https://github.com/backstage/backstage/blob/master/plugins/stack-overflow-backend/src/search/StackOverflowQuestionsCollatorFactory.ts">StackOverflowQuestionsCollatorFactory</a>, if you are unsure or want to follow best practices.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="1-install-collator-interface-dependencies"></a><a href="#1-install-collator-interface-dependencies" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. Install collator interface dependencies</h4>
<p>We will need the interface <code>DocumentCollatorFactory</code> from package <code>@backstage/plugin-search-common</code>, so let's add it to your plugins dependencies:</p>
<pre><code class="hljs css language-sh"><span class="hljs-comment"># navigate to the plugin directory</span>
<span class="hljs-comment"># (for this tutorial our plugin lives in the backstage repo, if your plugin lives in a separate repo you need to clone that first)</span>
<span class="hljs-built_in">cd</span> plugins/faq-snippets

<span class="hljs-comment"># Create a new branch using Git command-line</span>
git checkout -b tutorials/new-faq-snippets-collator

<span class="hljs-comment"># Install the package containing the interface</span>
yarn add @backstage/plugin-search-common
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="2-define-your-document-type"></a><a href="#2-define-your-document-type" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. Define your document type</h4>
<p>Before we can start generating documents from our FAQ entries, we first have to define a document type containing all necessary information we need to later display our entry as search result. The package <code>@backstage/plugin-search-common</code> we installed earlier contains a type <code>IndexableDocument</code> that we can extend.</p>
<p>Create a new file <code>plugins/faq-snippets/src/search/collators/FaqSnippetDocument.ts</code> and paste the following below:</p>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">import</span> { IndexableDocument } <span class="hljs-keyword">from</span> <span class="hljs-string">'@backstage/plugin-search-common'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> FaqSnippetDocument <span class="hljs-keyword">extends</span> IndexableDocument {
  answered_by: <span class="hljs-built_in">string</span>;
}
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="3-use-backstage-app-configuration"></a><a href="#3-use-backstage-app-configuration" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. Use Backstage App configuration</h4>
<p>Your new collator could benefit from using configuration directly from the Backstage <code>app-config.yaml</code> file which is located on the project's root folder:</p>
<pre><code class="hljs css language-yaml"><span class="hljs-attr">faq:</span>
  <span class="hljs-attr">baseUrl:</span> <span class="hljs-string">https://backstage.example.biz/faq-snippets</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="4-implement-your-collator"></a><a href="#4-implement-your-collator" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. Implement your collator</h4>
<p>Imagine your FAQs can be retrieved at the URL <code>https://backstage.example.biz/faq-snippets</code> with following JSON response format:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"items"</span>: [
    {
      <span class="hljs-attr">"id"</span>: <span class="hljs-number">42</span>,
      <span class="hljs-attr">"question"</span>: <span class="hljs-string">"What is The Answer to the Ultimate Question of Life, the Universe, and Everything?"</span>,
      <span class="hljs-attr">"answer"</span>: <span class="hljs-string">"Forty-two"</span>,
      <span class="hljs-attr">"user"</span>: <span class="hljs-string">"Deep Thought"</span>
    }
  ]
}
</code></pre>
<p>Below we provide an example implementation of how the FAQ collator factory could look like using our new document type, placed in the <code>plugins/faq-snippets/src/search/collators/FaqCollatorFactory.ts</code> file:</p>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">import</span> fetch <span class="hljs-keyword">from</span> <span class="hljs-string">'cross-fetch'</span>;
<span class="hljs-keyword">import</span> { Logger } <span class="hljs-keyword">from</span> <span class="hljs-string">'winston'</span>;
<span class="hljs-keyword">import</span> { Config } <span class="hljs-keyword">from</span> <span class="hljs-string">'@backstage/config'</span>;
<span class="hljs-keyword">import</span> { Readable } <span class="hljs-keyword">from</span> <span class="hljs-string">'stream'</span>;
<span class="hljs-keyword">import</span> { DocumentCollatorFactory } <span class="hljs-keyword">from</span> <span class="hljs-string">'@backstage/plugin-search-common'</span>;

<span class="hljs-keyword">import</span> { FaqDocument } <span class="hljs-keyword">from</span> <span class="hljs-string">'./FaqDocument'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> FaqCollatorFactoryOptions = {
  baseUrl?: <span class="hljs-built_in">string</span>;
  logger: Logger;
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> FaqCollatorFactory <span class="hljs-keyword">implements</span> DocumentCollatorFactory {
  <span class="hljs-keyword">private</span> readonly baseUrl: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;
  <span class="hljs-keyword">private</span> readonly logger: Logger;
  <span class="hljs-keyword">public</span> readonly <span class="hljs-keyword">type</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'faq-snippets'</span>;

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">constructor</span>(<span class="hljs-params">options: FaqCollatorFactoryOptions</span>) {
    <span class="hljs-keyword">this</span>.baseUrl = options.baseUrl;
    <span class="hljs-keyword">this</span>.logger = options.logger;
  }

  <span class="hljs-keyword">static</span> fromConfig(config: Config, options: FaqCollatorFactoryOptions) {
    <span class="hljs-keyword">const</span> baseUrl =
      config.getOptionalString(<span class="hljs-string">'faq.baseUrl'</span>) ||
      <span class="hljs-string">'https://backstage.example.biz/faq-snippets'</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> FaqCollatorFactory({ ...options, baseUrl });
  }

  <span class="hljs-keyword">async</span> getCollator() {
    <span class="hljs-keyword">return</span> Readable.from(<span class="hljs-keyword">this</span>.execute());
  }

  <span class="hljs-keyword">async</span> *execute(): AsyncGenerator&lt;FaqDocument&gt; {
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.baseUrl) {
      <span class="hljs-keyword">this</span>.logger.error(<span class="hljs-string">`No faq.baseUrl configured in your app-config.yaml`</span>);
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> fetch(<span class="hljs-keyword">this</span>.baseUrl);
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.json();

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> faq of data.items) {
      <span class="hljs-keyword">yield</span> {
        title: faq.question,
        location: <span class="hljs-string">`/faq-snippets/<span class="hljs-subst">${faq.id}</span>`</span>,
        text: faq.answer,
        answered_by: faq.user,
      };
    }
  }
}
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="5-test-your-collator"></a><a href="#5-test-your-collator" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5. Test your collator</h4>
<p>To verify your implementation works as expected make sure to add tests for it. For your convenience, there is the <a href="https://backstage.io/docs/reference/plugin-search-backend-node.testpipeline"><code>TestPipeline</code></a> utility that emulates a pipeline into which you can integrate your custom collator.</p>
<p>Look at <a href="https://github.com/backstage/backstage/blob/master/plugins/techdocs-backend/src/search/DefaultTechDocsCollatorFactory.test.ts">DefaultTechDocsCollatorFactory test</a>, for an example.</p>
<h4><a class="anchor" aria-hidden="true" id="6-make-your-plugins-collator-discoverable-for-others"></a><a href="#6-make-your-plugins-collator-discoverable-for-others" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6. Make your plugins collator discoverable for others</h4>
<p>If you want to make your collator discoverable for other adopters, add it to the list of <a href="https://backstage.io/docs/features/search/search-overview#plugins-integrated-with-backstage-search">plugins integrated to search</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="building-a-search-experience-into-your-plugin"></a><a href="#building-a-search-experience-into-your-plugin" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Building a search experience into your plugin</h2>
<p>While the core Search plugin offers components and extensions that empower app
integrators to compose a global search experience, you may find that you want a
narrower search experience just within your plugin. This could be as literal as
an autocomplete-style search bar focused on documents provided by your plugin
(for example, the <a href="https://github.com/backstage/backstage/blob/master/plugins/techdocs/src/search/components/TechDocsSearch.tsx">TechDocsSearch</a>
component), or as abstract as a widget that presents a list of links that
are contextually related to something else on the page.</p>
<h3><a class="anchor" aria-hidden="true" id="search-experience-concepts"></a><a href="#search-experience-concepts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Search Experience Concepts</h3>
<p>Knowing these high-level concepts will help you as you craft your in-plugin
search experience.</p>
<ul>
<li>All search experiences must be wrapped in a <code>&lt;SearchContextProvider&gt;</code>, which
is provided by <code>@backstage/plugin-search-react</code>. This context keeps track
of state necessary to perform search queries and display any results. As
inputs to the query are updated (e.g. a <code>term</code> or <code>filter</code> values), the
updated query is executed and <code>results</code> are refreshed. Check out the
<a href="https://backstage.io/docs/reference/plugin-search-react.searchcontextvalue">SearchContextValue</a>
for details.</li>
<li>The aforementioned state can be modified and/or consumed via the
<code>useSearch()</code> hook, also exported by <code>@backstage/plugin-search-react</code>.</li>
<li>For more literal search experiences, reusable components are available
to import and compose into a cohesive experience in your plugin (e.g.
<code>&lt;SearchBar /&gt;</code> or <code>&lt;SearchFilter.Checkbox /&gt;</code>). You can see all such
components in <a href="https://backstage.io/storybook/?path=/story/plugins-search-searchbar--default">Backstage's storybook</a>.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="search-experience-tutorials"></a><a href="#search-experience-tutorials" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Search Experience Tutorials</h3>
<p>The following tutorials make use of packages and plugins that you may not yet
have as dependencies for your plugin; be sure to add them before you use them!</p>
<ul>
<li><a href="https://www.npmjs.com/package/@backstage/plugin-search-react"><code>@backstage/plugin-search-react</code></a> - A
package containing components, hooks, and types that are shared across all
frontend plugins, including plugins like yours!</li>
<li><a href="https://www.npmjs.com/package/@backstage/plugin-search"><code>@backstage/plugin-search</code></a> - The
main search plugin, used by app integrators to compose global search
experiences. <!-- todo(@backstage/techdocs-core): remove all references to @backstage/plugin-search once #11676 is resolved --></li>
<li><a href="https://www.npmjs.com/package/@backstage/core-components"><code>@backstage/core-components</code></a> - A
package containing generic components useful for a variety of experiences
built in Backstage.</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="improved-404-page-experience"></a><a href="#improved-404-page-experience" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Improved &quot;404&quot; page experience</h4>
<p>Imagine you have a plugin that allows users to manage <em>widgets</em>. Perhaps they
can be viewed at a URL like <code>backstage.example.biz/widgets/{widgetName}</code>.
At some point, a widget is renamed, and links to that widget's page from
chat systems, wikis, or browser bookmarks become stale, resulting in errors or
404s.</p>
<p>What if instead of showing a broken page or the generic &quot;looks like someone
dropped the mic&quot; 404 page, you showed a list of possibly related widgets?</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> { Link } <span class="hljs-keyword">from</span> <span class="hljs-string">'@backstage/core-components'</span>;
<span class="hljs-keyword">import</span> { SearchResult } <span class="hljs-keyword">from</span> <span class="hljs-string">'@backstage/plugin-search'</span>;
<span class="hljs-keyword">import</span> { SearchContextProvider } <span class="hljs-keyword">from</span> <span class="hljs-string">'@backstage/plugin-search-react'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Widget404Page = <span class="hljs-function">(<span class="hljs-params">{ widgetName }</span>) =&gt;</span> {
  <span class="hljs-comment">// Supplying this to &lt;SearchContextProvider&gt; runs a pre-filtered search with</span>
  <span class="hljs-comment">// the given widgetName as the search term, focused on search result of type</span>
  <span class="hljs-comment">// "widget" with no other filters.</span>
  <span class="hljs-keyword">const</span> preFiltered = {
    <span class="hljs-attr">term</span>: widgetName,
    <span class="hljs-attr">types</span>: [<span class="hljs-string">'widget'</span>],
    <span class="hljs-attr">filters</span>: {},
  };

  <span class="hljs-keyword">return</span> (
    &lt;SearchContextProvider initialState={preFiltered}&gt;
      {/* The &lt;SearchResult&gt; component allows us to iterate through results and
          display them in whatever way fits best! */}
      &lt;SearchResult&gt;
        {({ results }) =&gt; (
          {results.map(({ document }) =&gt; (
            &lt;Link to={document.location} key={document.location}&gt;
              {document.title}
            &lt;/Link&gt;
          ))}
        )}
      &lt;SearchResult&gt;
    &lt;/SearchContextProvider&gt;
  );
);
</code></pre>
<p>Not all search experiences require user input! As you can see, it's possible to
leverage the Backstage Search Platform's frontend framework without necessarily
giving users input controls.</p>
<h4><a class="anchor" aria-hidden="true" id="simple-search-page"></a><a href="#simple-search-page" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Simple search page</h4>
<p>Of course, it's also possible to provide a more fully featured search
experience in your plugin. The simplest way is to leverage reusable components
provided by the <code>@backstage/plugin-search</code> package, like this:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> { useProfile } <span class="hljs-keyword">from</span> <span class="hljs-string">'@internal/api'</span>;
<span class="hljs-keyword">import</span> {
  Content,
  ContentHeader,
  PageWithHeader,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@backstage/core-components'</span>;
<span class="hljs-keyword">import</span> { SearchBar, SearchResult } <span class="hljs-keyword">from</span> <span class="hljs-string">'@backstage/plugin-search'</span>;
<span class="hljs-keyword">import</span> { SearchContextProvider } <span class="hljs-keyword">from</span> <span class="hljs-string">'@backstage/plugin-search-react'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> ManageMyWidgets = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> { primaryTeam } = useProfile();
  <span class="hljs-comment">// In this example, note how we are pre-filtering results down to a specific</span>
  <span class="hljs-comment">// owner field value (the currently logged-in user's team), but allowing the</span>
  <span class="hljs-comment">// search term to be controlled by the user via the &lt;SearchBar /&gt; component.</span>
  <span class="hljs-keyword">const</span> preFiltered = {
    <span class="hljs-attr">types</span>: [<span class="hljs-string">'widget'</span>],
    <span class="hljs-attr">term</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">filters</span>: {
      <span class="hljs-attr">owner</span>: primaryTeam,
    },
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">PageWithHeader</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"Widgets Home"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Content</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ContentHeader</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"All your Widgets and More"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">SearchContextProvider</span> <span class="hljs-attr">initialState</span>=<span class="hljs-string">{preFiltered}</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">SearchBar</span> /&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">SearchResult</span>&gt;</span>
            {/* Render results here, just like above */}
          <span class="hljs-tag">&lt;/<span class="hljs-name">SearchResult</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">SearchContextProvider</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Content</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">PageWithHeader</span>&gt;</span></span>
  );
};
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="custom-search-control-surfaces"></a><a href="#custom-search-control-surfaces" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom search control surfaces</h4>
<p>If the reusable search components provided by <code>@backstage/plugin-search</code> aren't
adequate, no problem! There's an API in place that you can use to author your
own components to control the various parts of the search context.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> { useSearch } <span class="hljs-keyword">from</span> <span class="hljs-string">'@backstage/plugin-search-react'</span>;
<span class="hljs-keyword">import</span> ChipInput <span class="hljs-keyword">from</span> <span class="hljs-string">'material-ui-chip-input'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> CustomChipFilter = <span class="hljs-function">(<span class="hljs-params">{ name }</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> { filters, setFilters } = useSearch();
  <span class="hljs-keyword">const</span> chipValues = filters[name] || [];

  <span class="hljs-comment">// When a chip value is changed, update the filters value by calling the</span>
  <span class="hljs-comment">// setFilters function from the search context.</span>
  <span class="hljs-keyword">const</span> handleChipChange = <span class="hljs-function">(<span class="hljs-params">chip, index</span>) =&gt;</span> {
    <span class="hljs-comment">// There may be filters set for other fields. Be sure to maintain them.</span>
    setFilters(<span class="hljs-function"><span class="hljs-params">prevState</span> =&gt;</span> {
      <span class="hljs-keyword">const</span> { [name]: filter = [], ...others } = prevState;

      <span class="hljs-keyword">if</span> (index === <span class="hljs-literal">undefined</span>) {
        filter.push(chip);
      } <span class="hljs-keyword">else</span> {
        filter.splice(index, <span class="hljs-number">1</span>);
      }

      <span class="hljs-keyword">return</span> { ...others, [name]: filter };
    });
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ChipInput</span>
      <span class="hljs-attr">value</span>=<span class="hljs-string">{chipValues}</span>
      <span class="hljs-attr">onAdd</span>=<span class="hljs-string">{handleChipChange}</span>
      <span class="hljs-attr">onDelete</span>=<span class="hljs-string">{handleChipChange}</span>
    /&gt;</span></span>
  );
};
</code></pre>
<p>Check out the <a href="https://github.com/backstage/backstage/blob/master/plugins/search-react/src/context/SearchContext.tsx">SearchContextValue type</a>
for more details on what methods and values are available for manipulating and
reading the search context.</p>
<p>If you produce something generic and reusable, consider contributing your
component upstream so that all users of the Backstage Search Platform can
benefit. Issues and pull requests welcome.</p>
<h4><a class="anchor" aria-hidden="true" id="custom-search-results"></a><a href="#custom-search-results" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom search results</h4>
<p>Search results throughout Backstage are rendered as lists so that list items can easily be customized; although a <a href="https://backstage.io/storybook/?path=/story/plugins-search-defaultresultlistitem--default">default result list item</a> is available, plugins are in the best position to provide custom result list items that surface relevant information only known to the plugin.</p>
<p>The example below imagines <code>YourCustomSearchResult</code> as a type of search result that contains associated <code>tags</code> which could be rendered as chips below the title/text.</p>
<pre><code class="hljs css language-tsx"><span class="hljs-keyword">import</span> { Link } <span class="hljs-keyword">from</span> <span class="hljs-string">'@backstage/core-components'</span>;
<span class="hljs-keyword">import</span> { useAnalytics } <span class="hljs-keyword">from</span> <span class="hljs-string">'@backstage/core-plugin-api'</span>;
<span class="hljs-keyword">import</span> { ResultHighlight } <span class="hljs-keyword">from</span> <span class="hljs-string">'@backstage/plugin-search-common'</span>;
<span class="hljs-keyword">import</span> { HighlightedSearchResultText } <span class="hljs-keyword">from</span> <span class="hljs-string">'@backstage/plugin-search-react'</span>;

type CustomSearchResultListItemProps = {
  <span class="hljs-attr">result</span>: YourCustomSearchResult;
  rank?: number;
  highlight?: ResultHighlight;
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> CustomSearchResultListItem = (
  props: CustomSearchResultListItemProps,
) =&gt; {
  <span class="hljs-keyword">const</span> { title, text, location, tags } = props.result;

  <span class="hljs-keyword">const</span> analytics = useAnalytics();
  <span class="hljs-keyword">const</span> handleClick = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    analytics.captureEvent(<span class="hljs-string">'discover'</span>, title, {
      <span class="hljs-attr">attributes</span>: { <span class="hljs-attr">to</span>: location },
      <span class="hljs-attr">value</span>: props.rank,
    });
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">noTrack</span> <span class="hljs-attr">to</span>=<span class="hljs-string">{location}</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleClick}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ListItem</span> <span class="hljs-attr">alignItems</span>=<span class="hljs-string">"center"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Box</span> <span class="hljs-attr">flexWrap</span>=<span class="hljs-string">"wrap"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">ListItemText</span>
            <span class="hljs-attr">primaryTypographyProps</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">variant:</span> '<span class="hljs-attr">h6</span>' }}
            <span class="hljs-attr">primary</span>=<span class="hljs-string">{</span>
              <span class="hljs-attr">highlight</span>?<span class="hljs-attr">.fields</span>?<span class="hljs-attr">.title</span> ? (
                &lt;<span class="hljs-attr">HighlightedSearchResultText</span>
                  <span class="hljs-attr">text</span>=<span class="hljs-string">{highlight.fields.title}</span>
                  <span class="hljs-attr">preTag</span>=<span class="hljs-string">{highlight.preTag}</span>
                  <span class="hljs-attr">postTag</span>=<span class="hljs-string">{highlight.postTag}</span>
                /&gt;</span>
              ) : (
                title
              )
            }
            secondary={
              highlight?.fields?.text ? (
                <span class="hljs-tag">&lt;<span class="hljs-name">HighlightedSearchResultText</span>
                  <span class="hljs-attr">text</span>=<span class="hljs-string">{highlight.fields.text}</span>
                  <span class="hljs-attr">preTag</span>=<span class="hljs-string">{highlight.preTag}</span>
                  <span class="hljs-attr">postTag</span>=<span class="hljs-string">{highlight.postTag}</span>
                /&gt;</span>
              ) : (
                text
              )
            }
          /&gt;
          {tags &amp;&amp;
            tags.map((tag: string) =&gt; (
              <span class="hljs-tag">&lt;<span class="hljs-name">Chip</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{tag}</span> <span class="hljs-attr">label</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">Tag:</span> ${<span class="hljs-attr">tag</span>}`} <span class="hljs-attr">size</span>=<span class="hljs-string">"small"</span> /&gt;</span>
            ))}
        <span class="hljs-tag">&lt;/<span class="hljs-name">Box</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">ListItem</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Divider</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span>
  );
};
</code></pre>
<p>The optional use of the <code>&lt;HighlightedSearchResultText&gt;</code> component makes it possible to highlight relevant parts of the result based on the user's search query.</p>
<p><strong>Note on Analytics</strong>: In order for app integrators to track and improve search experiences across Backstage, it's important for them to understand when and what users search for, as well as what they click on after searching. When providing a custom result component, it's your responsibility as a plugin developer to instrument it according to search analytics conventions. In particular:</p>
<ul>
<li>You must use the <code>analytics.captureEvent</code> method, from the <code>useAnalytics()</code> hook (detailed <a href="/docs/plugins/analytics">plugin analytics docs are here</a>).</li>
<li>You must ensure that the action of the event, representing a click on a search result item, is <code>discover</code>, and the subject is the <code>title</code> of the clicked result. In addition, the <code>to</code> attribute should be set to the result's <code>location</code>, and the <code>value</code> of the event must be set to the <code>rank</code> (passed in as a prop).</li>
<li>You must ensure that the aforementioned <code>captureEvent</code> method is called when a user clicks the link; you should further ensure that the <code>noTrack</code> prop is added to the link (which disables default link click tracking, in favor of this custom instrumentation).</li>
</ul>
<p>For other examples and inspiration on custom result list items, check out the <a href="https://github.com/backstage/backstage/blob/c981e83/plugins/stack-overflow/src/search/StackOverflowSearchResultListItem/StackOverflowSearchResultListItem.tsx"><code>&lt;StackOverflowSearchResultListItem&gt;</code></a> or <a href="https://github.com/backstage/backstage/blob/c981e83/plugins/catalog/src/components/CatalogSearchResultListItem/CatalogSearchResultListItem.tsx"><code>&lt;CatalogSearchResultListItem&gt;</code></a> components.</p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 1/12/2023</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/plugins/integrating-plugin-into-software-catalog"><span class="arrow-prev">← </span><span>Integrate into the Software Catalog</span></a><a class="docs-next button" href="/docs/plugins/composability"><span>Composability System</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#providing-data-to-the-search-platform">Providing data to the search platform</a><ul class="toc-headings"><li><a href="#create-a-collator">Create a collator</a></li></ul></li><li><a href="#building-a-search-experience-into-your-plugin">Building a search experience into your plugin</a><ul class="toc-headings"><li><a href="#search-experience-concepts">Search Experience Concepts</a></li><li><a href="#search-experience-tutorials">Search Experience Tutorials</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><div class="footer-title"><a href="/"><h2 class="footerLogo"></h2></a></div><div><h5>Docs</h5><a href="/docs/overview/what-is-backstage">What is Backstage?</a><a href="/docs/getting-started/">Getting started</a><a href="/docs/features/software-catalog/software-catalog-overview">Software Catalog</a><a href="/docs/plugins/create-a-plugin">Create a Plugin</a><a href="/docs/dls/design">Designing for Backstage</a></div><div><h5>Community</h5><a href="https://discord.gg/MUpMjP2">Support chatroom</a><a href="https://github.com/backstage/backstage/blob/master/CONTRIBUTING.md">Contributing</a><a href="https://backstage.spotify.com">Adopting</a><a href="https://github.com/backstage/community">Community Sessions</a><a href="https://info.backstage.spotify.com/newsletter_subscribe">Subscribe to our newsletter</a><a href="https://www.cncf.io/projects/">CNCF Incubation</a></div><div><h5>More</h5><a href="https://spotify.github.io/">Open Source @ Spotify</a><a href="https://engineering.atspotify.com/">Spotify Engineering Blog</a><a href="https://developer.spotify.com/">Spotify for Developers</a><a href="https://github.com/backstage/backstage">GitHub</a><a class="github-button" href="https://github.com/backstage/backstage" data-icon="octicon-star" data-count-href="/backstage/backstage/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a><div class="social"><a href="https://twitter.com/SpotifyEng" class="twitter-follow-button">Follow @SpotifyEng</a></div></div></section><p style="text-align:center"><a href="https://spotify.github.io">Made with ❤️ at Spotify</a></p><p class="copyright">Copyright © 2023 Backstage Project Authors. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our Trademark Usage page: https://www.linuxfoundation.org/trademark-usage</p></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '8d115c9875ba0f4feaee95bab55a1645',
                indexName: 'backstage',
                inputSelector: '#search_input_react'
              });
            </script></body></html>